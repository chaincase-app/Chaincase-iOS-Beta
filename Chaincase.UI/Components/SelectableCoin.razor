@using Chaincase.Common
@inject Config Config 
@inherits ReactiveComponentBase<CoinViewModel>

<IonItem>
    <IonCheckbox slot="start"
                 @bind-Value="ViewModel.IsSelected" />
    <p class="ion-float-left">@ViewModel.Label</p>
    <p class="ion-float-right">@ViewModel.Amount</p>
    <p class="ion-float-right">@PrivacyLabel(ViewModel.AnonymitySet)</p>
</IonItem>

@code {

    [Parameter]
    public CoinViewModel CoinViewModel { get; set; }


    protected override void OnParametersSet()
    {
        ViewModel = CoinViewModel;
        base.OnParametersSet();
    }

    private string PrivacyLabel(int anonymitySet) =>
        anonymitySet >= Config.PrivacyLevelSome ? "🗽" : "⚠️";

}
